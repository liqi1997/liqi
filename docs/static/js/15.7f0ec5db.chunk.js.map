{"version":3,"sources":["pages/Translate/index.module.css","pages/Translate/index.jsx"],"names":["module","exports","Translate","props","onChange","e","that","val","target","value","setState","searchValue","loading","timer","clearTimeout","setTimeout","console","log","store","app","callFunction","name","data","q","then","res","result","Array","isArray","trans_result","list","catch","err","error","state","this","className","styles","panel","input","type","placeholder","info","map","item","index","dst","React","Component"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,MAAQ,yBAAyB,KAAO,wBAAwB,KAAO,0B,mICIpHC,E,kDAEF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAQVC,SAAW,SAACC,GAER,IAAMC,EAAI,eAEJC,EAAMF,EAAEG,OAAOC,MAErB,EAAKC,SAAS,CACVC,YAAaJ,EACbK,SAAS,IAGT,EAAKC,OACLC,aAAa,EAAKD,OAEtB,EAAKA,MAAQE,YAAW,WACpBC,QAAQC,IAAI,OAEPV,GAILW,IAAMC,IAAIC,aAAa,CACnBC,KAAM,YACNC,KAAM,CACFC,EAAGhB,KAERiB,MAAK,SAAAC,GACJT,QAAQC,IAAI,QAASQ,GAErB,EAAKf,SAAS,CACVE,SAAS,IAGTa,EAAIC,QAAUC,MAAMC,QAAQH,EAAIC,OAAOG,eACvCvB,EAAKI,SAAS,CACVoB,KAAML,EAAIC,OAAOG,kBAG1BE,OAAM,SAAAC,GACLhB,QAAQiB,MAAM,MAAOD,QAG1B,OAjDH,EAAKE,MAAQ,CACTtB,SAAS,EACTD,YAAa,GACbmB,KAAM,IALK,E,0CAuDnB,WAAU,IAAD,EAEkCK,KAAKD,MAApCtB,EAFH,EAEGA,QAASD,EAFZ,EAEYA,YAAamB,EAFzB,EAEyBA,KAE9B,OACI,qBAAKM,UAAU,YAAf,SAEI,sBAAKA,UAAWC,IAAOC,MAAvB,UAEI,0BAAUF,UAAWC,IAAOE,MAAOC,KAAK,OAAOC,YAAY,mGAAmBhC,MAAOE,EAAaP,SAAU+B,KAAK/B,WAEjH,qBAAKgC,UAAWC,IAAOK,KAAvB,SAEM/B,EAAsC,8BACnCC,EAAW,iCACR,6BACKkB,EAAKa,KAAI,SAACC,EAAMC,GAAP,OAAiB,oBAAgBT,UAAWC,IAAOO,KAAlC,SACtBA,EAAKE,KAD0BD,UAH/B,8G,GAtEjBE,IAAMC,WAyFf9C","file":"static/js/15.7f0ec5db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Translate_panel__2MBJ6\",\"input\":\"Translate_input__JUv3P\",\"info\":\"Translate_info__X0rFB\",\"item\":\"Translate_item__1ein2\"};","import styles from './index.module.css'\nimport React from 'react'\n\nimport store from '../../store'\n\nclass Translate extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            loading: false,\n            searchValue: '',\n            list: [],\n        }\n    }\n\n    onChange = (e) => {\n\n        const that = this;\n\n        const val = e.target.value;\n\n        this.setState({\n            searchValue: val,\n            loading: true,\n        })\n\n        if (this.timer) {\n            clearTimeout(this.timer)\n        }\n        this.timer = setTimeout(() => {\n            console.log(\"run\")\n\n            if (!val) { return; }\n\n\n\n            store.app.callFunction({\n                name: 'translate',\n                data: {\n                    q: val\n                }\n            }).then(res => {\n                console.log('res, ', res)\n\n                this.setState({\n                    loading: false\n                })\n\n                if (res.result && Array.isArray(res.result.trans_result)) {\n                    that.setState({\n                        list: res.result.trans_result\n                    })\n                }\n            }).catch(err => {\n                console.error('err', err)\n            })\n\n        }, 2500);\n    }\n\n\n    render() {\n\n        const { loading, searchValue, list } = this.state;\n\n        return (\n            <div className='container'>\n\n                <div className={styles.panel}>\n\n                    <textarea className={styles.input} type=\"text\" placeholder='请输入要翻译的内容（支持中英文）' value={searchValue} onChange={this.onChange} />\n\n                    <div className={styles.info}>\n\n                        {!searchValue ? ('请输入要翻译的内容（支持中英文）') : (<div>\n                            {loading ? ('正在翻译中') : (\n                                <ul>\n                                    {list.map((item, index) => <li key={index} className={styles.item}>\n                                        {item.dst}\n                                    </li>)}\n                                </ul>\n                            )}\n                        </div>)}\n                    </div>\n\n                </div>\n\n\n            </div>\n        )\n    }\n}\n\nexport default Translate;"],"sourceRoot":""}