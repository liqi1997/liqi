(this["webpackJsonpliqi-website"]=this["webpackJsonpliqi-website"]||[]).push([[5],{126:function(e,t,c){e.exports={container:"Stock_container__LQtZd",left:"Stock_left__1qlOT",right:"Stock_right__3Zzfp",h1:"Stock_h1__1oY5K",extra:"Stock_extra__3wWU8",extraText:"Stock_extraText__2DUne",card:"Stock_card__3ziBO",item:"Stock_item__2__hu",active:"Stock_active__1nIg3",icon:"Stock_icon__23o9C",title:"Stock_title__3qtMt",value:"Stock_value__2I4iI",info:"Stock_info__7YW8H",header:"Stock_header__2Q0J5",code:"Stock_code__1-hPM",description:"Stock_description__2WY80",tag:"Stock_tag__24QPh",search:"Stock_search__Mghql",searchInput:"Stock_searchInput__EwxKU",searchButton:"Stock_searchButton__2MDWc"}},127:function(e,t,c){e.exports={item:"KChart_item__AY1I6",active:"KChart_active__3Z_8o"}},146:function(e,t,c){"use strict";c.r(t);var a=c(14),n=c(1),i=c(126),s=c.n(i),o=c(84),r=c(7),l=c(8),h=c(24),j=c(23),u=c(129),d=c(127),_=c.n(d),b=c(0),v=function(e){Object(h.a)(c,e);var t=Object(j.a)(c);function c(){var e;Object(r.a)(this,c);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={list:[],page:50},e.setChart=function(){var t=e.state.list,c=void 0===t?[]:t,a=document.getElementById("k-chart");e.chart=Object(u.a)(a),e.chart.setOption({xAxis:{data:c.map((function(e){return e.opening_date}))},yAxis:{},series:[{type:"k",data:c.map((function(e){return[e.opening_price,e.closing_price,e.min_price,e.max_price]}))}],tooltip:{show:!0}})},e.setPage=function(t){e.setState({page:t},(function(){e.fetchList()}))},e}return Object(l.a)(c,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"fetchList",value:function(){var e=this,t=this.props.code,c=this.state.page;fetch("http://cone387.top:8080/stock/market/?code=".concat(t,"&page=1&page_size=").concat(c)).then((function(e){return e.json()})).then((function(t){t&&Array.isArray(t.results)&&e.setState({list:t.results},(function(){e.setChart()}))})).catch((function(e){return console.error}))}},{key:"render",value:function(){var e=this,t=this.state.page;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{id:"k-chart",style:{height:400,width:"100%"}}),Object(b.jsxs)("div",{className:"center",children:[Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(50===t?_.a.active:""),onClick:function(){e.setPage(50)},children:"\u6700\u8fd150\u6761"}),Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(100===t?_.a.active:""),onClick:function(){e.setPage(100)},children:"\u6700\u8fd1100\u6761"}),Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(200===t?_.a.active:""),onClick:function(){e.setPage(200)},children:"\u6700\u8fd1200\u6761"})]})]})}}]),c}(n.Component);t.default=function(){var e=Object(n.useState)({}),t=Object(a.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(null),l=Object(a.a)(r,2),h=l[0],j=l[1];Object(n.useEffect)((function(){fetch("http://cone387.top:8080/stock/status/").then((function(e){return e.json()})).then((function(e){e&&i(e)})).catch((function(e){return console.error}))}),[]);var u=Object(n.useState)(1),d=Object(a.a)(u,2),_=d[0],O=d[1],f=Object(n.useState)([]),x=Object(a.a)(f,2),m=x[0],p=x[1],k=Object(n.useState)(0),g=Object(a.a)(k,2),S=g[0],N=g[1],y=Object(n.useState)(null),z=Object(a.a)(y,2),C=z[0],w=z[1];Object(n.useEffect)((function(){var e="";h&&(e="&stock_type=".concat(h));var t="";C&&(t="&name=".concat(C)),fetch("http://cone387.top:8080/stock/info/?page=".concat(_,"&page_size=10").concat(e).concat(t)).then((function(e){return e.json()})).then((function(e){"number"===typeof e.count&&N(e.count),Array.isArray(e.results)&&p(e.results)}))}),[_,h,C]);var A=Object(n.useState)(null),I=Object(a.a)(A,2),q=I[0],P=I[1],B=Object(n.useState)(""),M=Object(a.a)(B,2),E=M[0],K=M[1];return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:s.a.container,children:[Object(b.jsxs)("div",{className:s.a.left,children:[Object(b.jsxs)("div",{className:"between",children:[Object(b.jsx)("div",{className:s.a.h1,children:"\u80a1\u7968\u5217\u8868"}),Object(b.jsxs)("div",{className:s.a.extra,children:[Object(b.jsxs)("div",{className:s.a.extraText,children:["\u7b2c",_,"\u9875\uff0c\u5171",S,"\u6761"]}),Object(b.jsx)("div",{onClick:function(){1!==_&&O(_-1)},children:Object(b.jsx)(o.a,{name:"#icon-left",size:"16"})}),Object(b.jsx)("div",{onClick:function(){O(_+1)},children:Object(b.jsx)(o.a,{name:"#icon-right",size:"16"})})]})]}),m.map((function(e){return Object(b.jsxs)("div",{className:s.a.info,children:[Object(b.jsxs)("div",{className:s.a.header,children:[Object(b.jsx)("div",{className:s.a.tag,children:e.stock_type}),Object(b.jsxs)("div",{className:s.a.title,children:["[",e.name,"]"]}),Object(b.jsx)("div",{className:s.a.code,children:e.code})]}),Object(b.jsx)("div",{className:s.a.description,children:e.business_scope}),Object(b.jsx)("div",{className:"right",children:Object(b.jsx)("div",{className:"button",onClick:function(){var t;t=e.code,P(t)},children:"\u67e5\u770b\u8be6\u60c5"})}),Object(b.jsx)("div",{children:q===e.code&&Object(b.jsx)(v,{code:q})})]})}))]}),Object(b.jsxs)("div",{className:s.a.right,children:[Object(b.jsxs)("div",{className:s.a.search,children:[Object(b.jsx)("input",{className:s.a.searchInput,type:"text",placeholder:"\u8bf7\u8f93\u5165\u80a1\u7968\u540d\u79f0",value:E,onChange:function(e){K(e.target.value)}}),Object(b.jsx)("div",{className:s.a.searchButton,onClick:function(){w(E),O(1)},children:"\u641c\u7d22"})]}),Object(b.jsx)("div",{className:s.a.card,children:function(){var e=[],t=0,a=Object(b.jsx)(o.a,{name:"#icon-2-dianzishenhe",size:"24"}),n=function(n){1===t&&(a=Object(b.jsx)(o.a,{name:"#icon-12-changguirenwu",size:"24"})),2===t&&(a=Object(b.jsx)(o.a,{name:"#icon-14-zhishiku",size:"24"})),3===t&&(a=Object(b.jsx)(o.a,{name:"#icon-15-chehuixiaoxi",size:"24"})),4===t&&(a=Object(b.jsx)(o.a,{name:"#icon-19-qiehuancaozuo-icon",size:"24"})),t++,e.push(Object(b.jsxs)("div",{className:"".concat(s.a.item," ").concat(h===n?s.a.active:""),onClick:function(){j(n),O(1)},children:[Object(b.jsx)("div",{className:s.a.icon,children:a}),Object(b.jsx)("div",{className:s.a.title,children:n}),Object(b.jsx)("div",{className:s.a.value,children:c[n]})]}))};for(var i in c)n(i);return e}()})]})]})})}},84:function(e,t,c){"use strict";var a=c(0);t.a=function(e){var t=e.name,c=void 0===t?"":t,n=e.size,i=void 0===n?40:n;return Object(a.jsx)("svg",{"aria-hidden":"true",style:{height:i,width:i},children:Object(a.jsx)("use",{href:c})})}}}]);
//# sourceMappingURL=5.efd2f825.chunk.js.map