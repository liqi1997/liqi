{"version":3,"sources":["pages/Translate/index.module.css","pages/Translate/index.jsx"],"names":["module","exports","Translate","props","onChange","e","that","val","target","value","setState","searchValue","loading","timer","clearTimeout","setTimeout","console","log","store","app","callFunction","name","data","q","then","res","result","Array","isArray","trans_result","list","catch","err","error","state","this","className","styles","panel","input","type","placeholder","info","map","item","index","dst","React","Component"],"mappings":"wGACAA,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,MAAQ,yBAAyB,KAAO,wBAAwB,KAAO,0B,mICIpHC,E,kDAEF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAQVC,SAAW,SAACC,GAER,IAAMC,EAAI,eAEJC,EAAMF,EAAEG,OAAOC,MAErB,EAAKC,SAAS,CACVC,YAAaJ,EACbK,SAAS,IAGT,EAAKC,OACLC,aAAa,EAAKD,OAEtB,EAAKA,MAAQE,YAAW,WACpBC,QAAQC,IAAI,OAEPV,GAILW,IAAMC,IAAIC,aAAa,CACnBC,KAAM,YACNC,KAAM,CACFC,EAAGhB,KAERiB,MAAK,SAAAC,GACJT,QAAQC,IAAI,QAASQ,GAErB,EAAKf,SAAS,CACVE,SAAS,IAGTa,EAAIC,QAAUC,MAAMC,QAAQH,EAAIC,OAAOG,eACvCvB,EAAKI,SAAS,CACVoB,KAAML,EAAIC,OAAOG,kBAG1BE,OAAM,SAAAC,GACLhB,QAAQiB,MAAM,MAAOD,QAG1B,OAjDH,EAAKE,MAAQ,CACTtB,SAAS,EACTD,YAAa,GACbmB,KAAM,IALK,E,0CAuDnB,WAAU,IAAD,EAEkCK,KAAKD,MAApCtB,EAFH,EAEGA,QAASD,EAFZ,EAEYA,YAAamB,EAFzB,EAEyBA,KAE9B,OACI,qBAAKM,UAAU,YAAf,SAEI,sBAAKA,UAAWC,IAAOC,MAAvB,UAEI,0BAAUF,UAAWC,IAAOE,MAAOC,KAAK,OAAOC,YAAY,mGAAmBhC,MAAOE,EAAaP,SAAU+B,KAAK/B,WAEjH,qBAAKgC,UAAWC,IAAOK,KAAvB,SAEM/B,EAAsC,8BACnCC,EAAW,iCACR,6BACKkB,EAAKa,KAAI,SAACC,EAAMC,GAAP,OAAiB,oBAAgBT,UAAWC,IAAOO,KAAlC,SACtBA,EAAKE,KAD0BD,UAH/B,8G,GAtEjBE,IAAMC,WAyFf9C","file":"static/js/15.48fce19f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"Translate_panel__3GGwj\",\"input\":\"Translate_input__2AkWG\",\"info\":\"Translate_info__2WdTA\",\"item\":\"Translate_item__2HVkm\"};","import styles from './index.module.css'\r\nimport React from 'react'\r\n\r\nimport store from '../../store'\r\n\r\nclass Translate extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            loading: false,\r\n            searchValue: '',\r\n            list: [],\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n\r\n        const that = this;\r\n\r\n        const val = e.target.value;\r\n\r\n        this.setState({\r\n            searchValue: val,\r\n            loading: true,\r\n        })\r\n\r\n        if (this.timer) {\r\n            clearTimeout(this.timer)\r\n        }\r\n        this.timer = setTimeout(() => {\r\n            console.log(\"run\")\r\n\r\n            if (!val) { return; }\r\n\r\n\r\n\r\n            store.app.callFunction({\r\n                name: 'translate',\r\n                data: {\r\n                    q: val\r\n                }\r\n            }).then(res => {\r\n                console.log('res, ', res)\r\n\r\n                this.setState({\r\n                    loading: false\r\n                })\r\n\r\n                if (res.result && Array.isArray(res.result.trans_result)) {\r\n                    that.setState({\r\n                        list: res.result.trans_result\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.error('err', err)\r\n            })\r\n\r\n        }, 2500);\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { loading, searchValue, list } = this.state;\r\n\r\n        return (\r\n            <div className='container'>\r\n\r\n                <div className={styles.panel}>\r\n\r\n                    <textarea className={styles.input} type=\"text\" placeholder='请输入要翻译的内容（支持中英文）' value={searchValue} onChange={this.onChange} />\r\n\r\n                    <div className={styles.info}>\r\n\r\n                        {!searchValue ? ('请输入要翻译的内容（支持中英文）') : (<div>\r\n                            {loading ? ('正在翻译中') : (\r\n                                <ul>\r\n                                    {list.map((item, index) => <li key={index} className={styles.item}>\r\n                                        {item.dst}\r\n                                    </li>)}\r\n                                </ul>\r\n                            )}\r\n                        </div>)}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Translate;"],"sourceRoot":""}