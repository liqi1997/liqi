{"version":3,"sources":["pages/Weather/index.module.css","components/Title/index.module.css","components/Title/index.jsx","pages/Weather/index.jsx","components/SvgIcon/index.jsx"],"names":["module","exports","Title","children","className","styles","title","Weather","useState","address","setAddress","live","setLive","foreCast","setForeCast","useEffect","fetch","then","res","json","url","Array","isArray","lives","length","forecasts","header","card","icon","SvgIcon","name","size","weather","content","location","province","city","temperature","humidity","winddirection","windpower","time","reporttime","table","row","colHeader","colSpan","casts","map","item","col","date","week","dayweather","daytemp","daywind","daypower","nightweather","nighttemp","nightwind","nightpower","aria-hidden","style","height","width","href"],"mappings":"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","file":"static/js/4.cb8a80ca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Weather_header__2xzet\",\"select\":\"Weather_select__2PBav\",\"table\":\"Weather_table__2CPoy\",\"row\":\"Weather_row__3OBP0\",\"colHeader\":\"Weather_colHeader__2GXBV\",\"col\":\"Weather_col__2YEH_\",\"card\":\"Weather_card__1CjD6\",\"icon\":\"Weather_icon__1lVNN\",\"content\":\"Weather_content__3L70J\",\"title\":\"Weather_title__2v-1k\",\"location\":\"Weather_location__rToc2\",\"time\":\"Weather_time__1IuPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Title_title__2EaRg\"};","import styles from './index.module.css'\r\n\r\nfunction Title({ children }) {\r\n    return (\r\n        <div className={styles.title}>{children}</div>\r\n    )\r\n}\r\n\r\nexport default Title;","import { useEffect, useState } from \"react\";\r\nimport styles from './index.module.css'\r\nimport Title from '../../components/Title'\r\nimport SvgIcon from '../../components/SvgIcon'\r\n\r\nfunction Weather() {\r\n\r\n    const [address, setAddress] = useState({})\r\n    const [live, setLive] = useState({})\r\n    const [foreCast, setForeCast] = useState({})\r\n\r\n    // const [provinceList, setProvinceList] = useState([])\r\n    // const [province, setProvince] = useState(null)\r\n    // const [cityList, setCityList] = useState([])\r\n    // const [city, setCity] = useState(null)\r\n\r\n    // useEffect(() => {\r\n\r\n    //     fetch(`https://restapi.amap.com/v3/config/district?key=e282c61b5a5bde7d9a16cd9684eefd52`).then(res => res.json()).then(res => {\r\n    //         if (res && Array.isArray(res.districts) && res.districts.length > 0) {\r\n    //             const list = res.districts[0].districts;\r\n    //             if (Array.isArray(list)) {\r\n    //                 setProvinceList(list)\r\n    //             }\r\n    //         }\r\n    //     })\r\n\r\n    // }, []);\r\n\r\n    // useEffect(() => {\r\n    //     if (province) {\r\n\r\n    //         fetch(`https://restapi.amap.com/v3/config/district?key=e282c61b5a5bde7d9a16cd9684eefd52&keywords=${province}`).then(res => res.json()).then(res => {\r\n    //             if (res && Array.isArray(res.districts) && res.districts.length > 0) {\r\n    //                 const list = res.districts[0].districts;\r\n    //                 if (Array.isArray(list)) {\r\n    //                     setCityList(list)\r\n    //                 }\r\n    //             }\r\n    //         })\r\n\r\n    //     }\r\n    // }, [province]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        fetch(`https://restapi.amap.com/v3/ip?key=e282c61b5a5bde7d9a16cd9684eefd52`).then(res => res.json()).then(res => {\r\n            setAddress(res)\r\n        })\r\n\r\n\r\n\r\n        let url = `https://restapi.amap.com/v3/weather/weatherInfo?key=e282c61b5a5bde7d9a16cd9684eefd52&city=320100&extensions=base`\r\n        fetch(url).then(res => res.json()).then(res => {\r\n            if (res && Array.isArray(res.lives) && res.lives.length > 0) {\r\n                setLive(res.lives[0])\r\n            }\r\n        })\r\n\r\n        url = `https://restapi.amap.com/v3/weather/weatherInfo?key=e282c61b5a5bde7d9a16cd9684eefd52&city=320100&extensions=all`\r\n        fetch(url).then(res => res.json()).then(res => {\r\n            if (res && Array.isArray(res.forecasts) && res.forecasts.length > 0) {\r\n                setForeCast(res.forecasts[0])\r\n            }\r\n        })\r\n\r\n\r\n    }, []);\r\n\r\n    // function onProvinceChange(e) {\r\n    //     setProvince(e.target.value)\r\n    // }\r\n\r\n\r\n\r\n    // function onCityChange(e) {\r\n    //     setCity(e.target.value)\r\n    // }\r\n\r\n    function renderWeek(week) {\r\n        if (week === '1') return '星期一'\r\n        if (week === '2') return '星期二'\r\n        if (week === '3') return '星期三'\r\n        if (week === '4') return '星期四'\r\n        if (week === '5') return '星期五'\r\n        if (week === '6') return '星期六'\r\n        if (week === '7') return '星期日'\r\n    }\r\n\r\n    return <div className='container'>\r\n\r\n        {/* <div className={styles.header}>\r\n\r\n            <select className={styles.select} placeholder='请选择省份' value={province} onChange={onProvinceChange}>\r\n                {provinceList.map(item => <option value={item.adcode} key={item.adcode}>{item.name}</option>)}\r\n            </select>\r\n\r\n            <select className={styles.select} placeholder='请选择城市' value={city} onChange={onCityChange}>\r\n                {cityList.map(item => <option value={item.adcode} key={item.adcode}>{item.name}</option>)}\r\n            </select>\r\n\r\n        </div> */}\r\n\r\n\r\n        <div className={styles.header}>\r\n            <Title>\r\n                实时天气\r\n        </Title>\r\n        </div>\r\n\r\n\r\n        <div className={styles.card}>\r\n            <div className={styles.icon}>\r\n                <SvgIcon name='#icon-5-xiaoshoukanban' size={48} />\r\n                <div>\r\n                    {live.weather}\r\n                </div>\r\n            </div>\r\n            <div className={styles.content}>\r\n\r\n                <div className={styles.title}>实时天气</div>\r\n                <div className={styles.location}>\r\n                    {address.province}{address.city}\r\n                </div>\r\n\r\n                <div className='between'>\r\n\r\n                    <div>\r\n                        温度 {live.temperature}°\r\n                </div>\r\n                    <div>\r\n                        湿度 {live.humidity}°\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className='between'>\r\n\r\n\r\n                    <div>\r\n                        风向 {live.winddirection}\r\n                    </div>\r\n                    <div>\r\n                        风力 {live.windpower}级\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n\r\n                <div className={styles.time}>\r\n                    发布时间：{live.reporttime}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n        <div className={styles.header}>\r\n            <Title>\r\n                天气预报\r\n        </Title>\r\n\r\n\r\n        </div>\r\n\r\n        <table className={styles.table}>\r\n            <tr className={styles.row}>\r\n                <th className={styles.colHeader}>日期</th>\r\n                <th className={styles.colHeader}>星期</th>\r\n                <th className={styles.colHeader} colSpan='4'>白天</th>\r\n                <th className={styles.colHeader} colSpan='4'>夜晚</th>\r\n            </tr>\r\n            {Array.isArray(foreCast.casts) && foreCast.casts.map(item => (<tr className={styles.row}>\r\n                <td className={styles.col}>\r\n                    {item.date}\r\n                </td>\r\n                <td className={styles.col}>\r\n                    {renderWeek(item.week)}\r\n                </td>\r\n                <td className={styles.col}>\r\n                    {item.dayweather}\r\n                </td>\r\n                <td className={styles.col}>\r\n                    {item.daytemp}度\r\n                    </td>\r\n                <td className={styles.col}>\r\n                    {item.daywind}风向\r\n                    </td>\r\n                <td className={styles.col}>\r\n                    {item.daypower}风力\r\n                    </td>\r\n\r\n                <td className={styles.col}>\r\n                    {item.nightweather}\r\n                </td>\r\n                <td className={styles.col}>\r\n                    {item.nighttemp}度\r\n                    </td>\r\n                <td className={styles.col}>\r\n                    {item.nightwind}风向\r\n                    </td>\r\n                <td className={styles.col}>\r\n                    {item.nightpower}风力\r\n                    </td>\r\n            </tr>))}\r\n        </table>\r\n\r\n        <div className={styles.time}>发布时间：{foreCast.reporttime}</div>\r\n\r\n\r\n\r\n    </div>\r\n}\r\n\r\nexport default Weather;","\r\nfunction SvgIcon({ name = '', size = 40 }) {\r\n    return <svg aria-hidden='true' style={{ height: size, width: size, }}>\r\n        <use href={name} ></use>\r\n    </svg>\r\n}\r\n\r\nexport default SvgIcon;"],"sourceRoot":""}