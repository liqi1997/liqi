(this["webpackJsonpliqi-website"]=this["webpackJsonpliqi-website"]||[]).push([[5],{126:function(e,t,c){e.exports={container:"Stock_container__1Ai9W",left:"Stock_left__30fhW",right:"Stock_right__1qXsh",h1:"Stock_h1__n-itT",extra:"Stock_extra__1g3-7",extraText:"Stock_extraText__3JHNF",card:"Stock_card__3uTKO",item:"Stock_item__Jh7pQ",active:"Stock_active__24E7k",icon:"Stock_icon__PKI8U",title:"Stock_title__2hMON",value:"Stock_value__3-DDp",info:"Stock_info__3ZPod",header:"Stock_header__2OSn3",code:"Stock_code__10zRd",description:"Stock_description__2MsPd",tag:"Stock_tag___VTVN"}},127:function(e,t,c){e.exports={item:"KChart_item__1fL8r",active:"KChart_active__k11lY"}},146:function(e,t,c){"use strict";c.r(t);var a=c(15),i=c(1),n=c(126),s=c.n(n),o=c(84),r=c(7),j=c(8),l=c(24),h=c(23),d=c(129),u=c(127),_=c.n(u),b=c(0),v=function(e){Object(l.a)(c,e);var t=Object(h.a)(c);function c(){var e;Object(r.a)(this,c);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={list:[],page:50},e.setChart=function(){var t=e.state.list,c=void 0===t?[]:t,a=document.getElementById("k-chart");e.chart=Object(d.a)(a),e.chart.setOption({xAxis:{data:c.map((function(e){return e.opening_date}))},yAxis:{},series:[{type:"k",data:c.map((function(e){return[e.opening_price,e.closing_price,e.min_price,e.max_price]}))}],tooltip:{show:!0}})},e.setPage=function(t){e.setState({page:t},(function(){e.fetchList()}))},e}return Object(j.a)(c,[{key:"componentDidMount",value:function(){this.fetchList()}},{key:"fetchList",value:function(){var e=this,t=this.props.code,c=this.state.page;fetch("http://cone387.top:8080/stock/market/?code=".concat(t,"&page=1&page_size=").concat(c)).then((function(e){return e.json()})).then((function(t){t&&Array.isArray(t.results)&&e.setState({list:t.results},(function(){e.setChart()}))})).catch((function(e){return console.error}))}},{key:"render",value:function(){var e=this,t=this.state.page;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{id:"k-chart",style:{height:400,width:"100%"}}),Object(b.jsxs)("div",{className:"center",children:[Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(50===t?_.a.active:""),onClick:function(){e.setPage(50)},children:"\u6700\u8fd150\u6761"}),Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(100===t?_.a.active:""),onClick:function(){e.setPage(100)},children:"\u6700\u8fd1100\u6761"}),Object(b.jsx)("div",{className:"".concat(_.a.item," ").concat(200===t?_.a.active:""),onClick:function(){e.setPage(200)},children:"\u6700\u8fd1200\u6761"})]})]})}}]),c}(i.Component);t.default=function(){var e=Object(i.useState)({}),t=Object(a.a)(e,2),c=t[0],n=t[1],r=Object(i.useState)(null),j=Object(a.a)(r,2),l=j[0],h=j[1];Object(i.useEffect)((function(){fetch("http://cone387.top:8080/stock/status/").then((function(e){return e.json()})).then((function(e){e&&n(e)})).catch((function(e){return console.error}))}),[]);var d=Object(i.useState)(1),u=Object(a.a)(d,2),_=u[0],O=u[1],f=Object(i.useState)([]),x=Object(a.a)(f,2),m=x[0],p=x[1],k=Object(i.useState)(0),g=Object(a.a)(k,2),N=g[0],S=g[1];Object(i.useEffect)((function(){var e="";l&&(e="&stock_type=".concat(l)),fetch("http://cone387.top:8080/stock/info/?page=".concat(_,"&page_size=10").concat(e)).then((function(e){return e.json()})).then((function(e){"number"===typeof e.count&&S(e.count),Array.isArray(e.results)&&p(e.results)}))}),[_,l]);var y=Object(i.useState)(null),z=Object(a.a)(y,2),C=z[0],w=z[1];return Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:s.a.container,children:[Object(b.jsxs)("div",{className:s.a.left,children:[Object(b.jsxs)("div",{className:"between",children:[Object(b.jsx)("div",{className:s.a.h1,children:"\u80a1\u7968\u5217\u8868"}),Object(b.jsxs)("div",{className:s.a.extra,children:[Object(b.jsxs)("div",{className:s.a.extraText,children:["\u7b2c",_,"\u9875\uff0c\u5171",N,"\u6761"]}),Object(b.jsx)("div",{onClick:function(){1!==_&&O(_-1)},children:Object(b.jsx)(o.a,{name:"#icon-left",size:"16"})}),Object(b.jsx)("div",{onClick:function(){O(_+1)},children:Object(b.jsx)(o.a,{name:"#icon-right",size:"16"})})]})]}),m.map((function(e){return Object(b.jsxs)("div",{className:s.a.info,children:[Object(b.jsxs)("div",{className:s.a.header,children:[Object(b.jsx)("div",{className:s.a.tag,children:e.stock_type}),Object(b.jsxs)("div",{className:s.a.title,children:["[",e.name,"]"]}),Object(b.jsx)("div",{className:s.a.code,children:e.code})]}),Object(b.jsx)("div",{className:s.a.description,children:e.business_scope}),Object(b.jsx)("div",{className:"right",children:Object(b.jsx)("div",{className:"button",onClick:function(){var t;t=e.code,w(t)},children:"\u67e5\u770b\u8be6\u60c5"})}),Object(b.jsx)("div",{children:C===e.code&&Object(b.jsx)(v,{code:C})})]})}))]}),Object(b.jsx)("div",{className:s.a.right,children:Object(b.jsx)("div",{className:s.a.card,children:function(){var e=[],t=0,a=Object(b.jsx)(o.a,{name:"#icon-2-dianzishenhe",size:"24"}),i=function(i){1===t&&(a=Object(b.jsx)(o.a,{name:"#icon-12-changguirenwu",size:"24"})),2===t&&(a=Object(b.jsx)(o.a,{name:"#icon-14-zhishiku",size:"24"})),3===t&&(a=Object(b.jsx)(o.a,{name:"#icon-15-chehuixiaoxi",size:"24"})),4===t&&(a=Object(b.jsx)(o.a,{name:"#icon-19-qiehuancaozuo-icon",size:"24"})),t++,e.push(Object(b.jsxs)("div",{className:"".concat(s.a.item," ").concat(l===i?s.a.active:""),onClick:function(){h(i),O(1)},children:[Object(b.jsx)("div",{className:s.a.icon,children:a}),Object(b.jsx)("div",{className:s.a.title,children:i}),Object(b.jsx)("div",{className:s.a.value,children:c[i]})]}))};for(var n in c)i(n);return e}()})})]})})}},84:function(e,t,c){"use strict";var a=c(0);t.a=function(e){var t=e.name,c=void 0===t?"":t,i=e.size,n=void 0===i?40:i;return Object(a.jsx)("svg",{"aria-hidden":"true",style:{height:n,width:n},children:Object(a.jsx)("use",{href:c})})}}}]);
//# sourceMappingURL=5.2d57fe37.chunk.js.map