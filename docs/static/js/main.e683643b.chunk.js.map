{"version":3,"sources":["pages/XMLY/index.module.css","components/Player/index.module.css","store/index.js","pages/XMLY/Albums/Track/index.module.css","pages/XMLY/Albums/index.module.css","layout/index.module.css","pages/Website/index.module.css","assets/logo.svg","components/ErrorBoundary/index.jsx","components/Player/index.jsx","components/Footer/index.jsx","pages/Website/index.jsx","assets/v.svg","utils/index.js","pages/XMLY/Albums/Track/index.jsx","pages/XMLY/Albums/index.jsx","pages/XMLY/index.jsx","layout/index.jsx","App.js","index.js"],"names":["module","exports","Audio","obj","app","db","user","makeObservable","this","observable","setObj","action","setUser","cloudbase","init","env","ErrorBoundary","props","state","hasError","error","errorInfo","console","log","children","React","Component","observer","audio","useState","loading","setLoading","className","styles","player","track_title","show","hidden","container","image","src","cover_url_small","alt","title","play","iconfont","onClick","document","getElementById","pause","id","autoPlay","download_url","Footer","year","setYear","useEffect","Date","getFullYear","a","href","target","rel","Website","li","timeFormat","timestamp","date","month","getMonth","dateStr","getDate","numFormat","num","toFixed","secondFormat","second","min","parseInt","hour","item","getAudio","line","listen","duration","Albums","url","xmly","page","setPage","list","setList","get","track_id","then","res","data","album_id","sort","count","code","Array","isArray","tracks","length","alert","l","logo","cover_url_large","content","header","album_title","status","is_finished","score","quality_score","style","marginBottom","avatar","announcer","avatar_url","nickname","is_verified","v","introduce","album_intro","tags","tag","include_track_count","play_count","favorite_count","subscribe_count","share_count","time","updated_at","trackList","trackTitle","map","loadMore","backgroundColor","color","fontSize","XMLY","getList","setState","categoryList","activeCategoryId","getDetail","category_id","type","tagList","activeTagName","tag_name","getAlbums","calc_dimension","contains_paid","albums","prevState","albumsList","onClickCategory","onClickTag","name","onLoadMore","config","app_key","sig_url","debug","Xmly","condition","category","active","category_name","index","Home","lazy","Me","Repo","News","Translate","Todo","Blog","Weather","Tool","Echarts","Resume","RSS","Stock","NotFound","Layout","path","useRouteMatch","pathname","useLocation","window","location","search","arr","split","visible","setVisible","email","setEmail","password","setPassword","setStatus","layout","to","appName","tabBar","nav","includes","fallback","exact","alertContent","alertTitle","cursor","alertBody","input","placeholder","value","onChange","e","button","store","auth","signInWithEmailAndPassword","loginState","catch","err","signUpWithEmailAndPassword","toggle","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.e683643b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"condition\":\"XMLY_condition__MehLP\",\"item\":\"XMLY_item__2j8Sk\",\"title\":\"XMLY_title__1xNsl\",\"list\":\"XMLY_list__1tgS5\",\"category\":\"XMLY_category__19soV\",\"active\":\"XMLY_active__2kngK\",\"albumsList\":\"XMLY_albumsList__3yQCP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"player\":\"Player_player__2zVlE\",\"show\":\"Player_show__2l7PO\",\"hidden\":\"Player_hidden__1KS4x\",\"container\":\"Player_container__bfY9m\",\"image\":\"Player_image__ngpyb\",\"loading\":\"Player_loading__19FMU\",\"rotate\":\"Player_rotate__2tjTe\",\"title\":\"Player_title__2mHjb\",\"play\":\"Player_play__3vaBH\",\"iconfont\":\"Player_iconfont__3t3pn\"};","import { makeObservable, observable, action } from 'mobx'\r\n\r\nimport cloudbase from \"@cloudbase/js-sdk\";\r\n\r\nclass Audio {\r\n    obj = {}\r\n\r\n    app = null\r\n\r\n    db = null\r\n\r\n    user = {}\r\n\r\n    constructor() {\r\n        makeObservable(this, {\r\n            obj: observable,\r\n            user: observable,\r\n            setObj: action,\r\n            setUser: action\r\n        })\r\n\r\n        this.app = cloudbase.init({\r\n            env: \"liqi-website-2g3fl423aa662a73\"\r\n        });\r\n\r\n        // this.db = this.app.database();\r\n\r\n    }\r\n\r\n    setObj(obj) {\r\n        this.obj = obj;\r\n    }\r\n\r\n    setUser(user) {\r\n        this.user = user\r\n    }\r\n\r\n}\r\n\r\nexport default new Audio();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Track_item__1BjLs\",\"title\":\"Track_title__2GL8n\",\"line\":\"Track_line__g_IUt\",\"listen\":\"Track_listen__2h5ds\",\"duration\":\"Track_duration__3WHez\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Albums_item__2ZOHG\",\"logo\":\"Albums_logo__3m1D8\",\"content\":\"Albums_content__29o-v\",\"header\":\"Albums_header__3BMwS\",\"title\":\"Albums_title__9hiqF\",\"status\":\"Albums_status__2hu_t\",\"score\":\"Albums_score__13CN9\",\"avatar\":\"Albums_avatar__2fqZP\",\"v\":\"Albums_v__1Qz2h\",\"introduce\":\"Albums_introduce__1kq-z\",\"tags\":\"Albums_tags__2x0OO\",\"tag\":\"Albums_tag__15iZE\",\"iconfont\":\"Albums_iconfont__qEPFW\",\"time\":\"Albums_time__1U6EU\",\"trackList\":\"Albums_trackList__27ss-\",\"trackTitle\":\"Albums_trackTitle__31im7\",\"loadMore\":\"Albums_loadMore__3VmCw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"layout_layout__2zc_w\",\"logo\":\"layout_logo__3s4i3\",\"appName\":\"layout_appName__HcJuP\",\"tabBar\":\"layout_tabBar__3Pg7Z\",\"nav\":\"layout_nav__TLQx0\",\"active\":\"layout_active__6zKBo\",\"login\":\"layout_login__3N6dg\",\"alert\":\"layout_alert__2s98Y\",\"alertContent\":\"layout_alertContent__2favJ\",\"alertTitle\":\"layout_alertTitle__1H0lw\",\"alertBody\":\"layout_alertBody__QLVoW\",\"input\":\"layout_input__ogXpg\",\"button\":\"layout_button__3xo3R\",\"toggle\":\"layout_toggle__3RWhK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"li\":\"Website_li__3dN_M\"};","export default __webpack_public_path__ + \"static/media/logo.2f57e07d.svg\";","import React from 'react'\r\n\r\nclass ErrorBoundary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { hasError: false };\r\n    }\r\n\r\n    static getDerivedStateFromError(error) {\r\n        // 更新 state 使下一次渲染能够显示降级后的 UI\r\n        return { hasError: true };\r\n    }\r\n\r\n    componentDidCatch(error, errorInfo) {\r\n        // 你同样可以将错误日志上报给服务器\r\n        //   logErrorToMyService(error, errorInfo);\r\n        console.log('err')\r\n    }\r\n\r\n    render() {\r\n        if (this.state.hasError) {\r\n            // 你可以自定义降级后的 UI 并渲染\r\n            return <h1>Something went wrong.</h1>;\r\n        }\r\n\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;","\r\nimport styles from \"./index.module.css\";\r\nimport { observer } from \"mobx-react-lite\";\r\nimport { useState } from \"react\";\r\nfunction Player({ audio }) {\r\n\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    function onPlay() {\r\n        const audio = document.getElementById('audio');\r\n        audio.play()\r\n        setLoading(true)\r\n\r\n    }\r\n    function onParse() {\r\n        const audio = document.getElementById('audio');\r\n        audio.pause()\r\n        setLoading(false)\r\n    }\r\n    function onClose() {\r\n        audio.setObj({})\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <div className={`${styles.player} ${audio.obj.track_title ? styles.show : styles.hidden}`}>\r\n\r\n                <div className={`container left ${styles.container}`}>\r\n\r\n\r\n                    <img className={`${styles.image} ${loading ? styles.loading : ''}`} src={audio.obj.cover_url_small} alt=\"\" />\r\n                    {/* 3. 进度条 */}\r\n\r\n\r\n                    <div className={styles.title}>\r\n                        {audio.obj.track_title}\r\n                    </div>\r\n\r\n                    <div className={styles.play}>\r\n                        {loading ? (\r\n                            <span className={`iconfont icon-timeout ${styles.iconfont}`} onClick={() => { onParse() }}></span>\r\n\r\n                        ) : (\r\n                                <span className={`iconfont icon-play-circle ${styles.iconfont}`} onClick={() => { onPlay() }}></span>\r\n\r\n                            )}\r\n                    </div>\r\n\r\n                    <span className={`iconfont icon-close-circle ${styles.iconfont}`} onClick={() => { onClose() }}></span>\r\n\r\n\r\n                    <audio id='audio' autoPlay src={audio.obj.download_url}></audio>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default observer(Player);","import { useEffect, useState } from \"react\"\r\nimport styles from './index.module.css'\r\n\r\nfunction Footer() {\r\n\r\n    const [year, setYear] = useState('')\r\n\r\n    useEffect(() => {\r\n\r\n        const now = new Date();\r\n        const year = now.getFullYear();\r\n        setYear(year)\r\n\r\n    }, []);\r\n\r\n    return <footer>\r\n        &copy; {year} 版权归李奇所有 | 友情链接：<a className={styles.a} href=\"http://cone.love/\" target=\"_blank\" rel=\"noreferrer\">毕中亮的网站</a>&nbsp;&nbsp;<a className={styles.a} href=\"http://cone387.top/\" target=\"_blank\" rel=\"noreferrer\">毕中亮的网站</a>\r\n    </footer>\r\n}\r\n\r\nexport default Footer","import styles from \"./index.module.css\";\r\nfunction Website() {\r\n    return (\r\n        <div className='container'>\r\n            <ul>\r\n                <li className={styles.li}>\r\n                    <a href=\"https://wangdoc.com/\" target=\"_blank\" rel='noreferrer'>网道</a>\r\n                </li>\r\n                <li className={styles.li}>\r\n                    <a href=\"https://es6.ruanyifeng.com/\" target=\"_blank\" rel='noreferrer'>ES6入门教程</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Website;","export default __webpack_public_path__ + \"static/media/v.dbd30b4d.svg\";","export function timeFormat(timestamp) {\r\n    const date = new Date(timestamp)\r\n\r\n    const year = date.getFullYear();\r\n    let month = date.getMonth();\r\n    let dateStr = date.getDate();\r\n\r\n    if (month < 10) {\r\n        month = '0' + month\r\n    }\r\n    if (dateStr < 10) {\r\n        dateStr = '0' + dateStr\r\n    }\r\n\r\n    return `${year}/${month}/${dateStr}`\r\n}\r\n\r\nexport function numFormat(num) {\r\n\r\n    if (num > 10000) {\r\n        const val = (num / 10000).toFixed(0)\r\n        return val + 'w'\r\n    } else\r\n        if (num > 1000) {\r\n            const val = (num / 1000).toFixed(0)\r\n            return val + 'k'\r\n        }\r\n        else {\r\n            return num\r\n        }\r\n\r\n}\r\n\r\nexport function secondFormat(second) {\r\n    if (second < 60) {\r\n        return `${second}秒`\r\n    }\r\n    if (second < 3600) {\r\n        const min = parseInt(second / 60);\r\n        return `${min}分`\r\n    } else {\r\n        const hour = parseInt(second / 3600);\r\n        return `${hour}时`\r\n    }\r\n}","import styles from \"./index.module.css\";\r\nimport { secondFormat } from \"../../../../utils\";\r\n\r\nimport { observer } from \"mobx-react-lite\";\r\n\r\nfunction Track({ item = {}, getAudio }) {\r\n\r\n    return (\r\n        <li className={styles.item}>\r\n\r\n            <div className={styles.title}>\r\n                {item.track_title}\r\n            </div>\r\n\r\n\r\n\r\n            <div className={styles.line}></div>\r\n\r\n            <div className={styles.listen} onClick={() => { getAudio(item.id) }}>\r\n                <span className='iconfont icon-customerservice'></span>\r\n            </div>\r\n\r\n            <div className={styles.duration}>\r\n                {secondFormat(item.duration)}\r\n            </div>\r\n\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default observer(Track);","import { useEffect, useState } from 'react'\r\nimport styles from './index.module.css'\r\nimport v from \"../../../assets/v.svg\";\r\nimport { timeFormat, numFormat } from \"../../../utils\";\r\nimport Track from \"./Track\";\r\n\r\nfunction Albums({ url, xmly, item = {}, audio }) {\r\n\r\n    const [page, setPage] = useState(0)\r\n    const [list, setList] = useState([])\r\n\r\n    function getAudio(id) {\r\n\r\n        xmly.get(`${url}/tracks/get_single`, {\r\n            track_id: id,\r\n        }).then(res => {\r\n            console.log('res', res)\r\n\r\n            if (res.data) {\r\n\r\n                audio.setObj(res.data)\r\n            }\r\n\r\n        })\r\n\r\n\r\n    }\r\n\r\n    function loadMore() {\r\n        setPage(page + 1)\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (page > 0 && item.id && url && xmly) {\r\n            // getDetail();\r\n            xmly.get(`${url}/albums/browse`, {\r\n                album_id: item.id,\r\n                sort: 'asc',\r\n                page,\r\n                count: 10\r\n            }).then(res => {\r\n                console.log('res', res)\r\n\r\n                if (res.code === 0 && res.data && Array.isArray(res.data.tracks)) {\r\n\r\n                    const { tracks } = res.data;\r\n\r\n                    if (tracks.length === 0) {\r\n                        alert('没有更多数据了')\r\n                        return;\r\n                    }\r\n\r\n                    setList(l => [...l, ...tracks])\r\n\r\n                    // setList([...list, ...tracks])\r\n\r\n                }\r\n            })\r\n        }\r\n    }, [page, item.id, url, xmly])\r\n\r\n    return (\r\n        <div className={styles.item}>\r\n\r\n            <img className={styles.logo} src={item.cover_url_large} alt=\"albums\" />\r\n            <div className={styles.content}>\r\n                <div className={styles.header}>\r\n                    <div className={styles.title}>{item.album_title}</div>\r\n                    <div className={styles.status}>\r\n                        <div>\r\n                            {item.is_finished === 2 && \"完结\"}\r\n                        </div>\r\n                        <div>\r\n                            {item.is_finished === 1 && \"未完结\"}\r\n                        </div>\r\n                    </div>\r\n                    <div className={styles.score}>{item.quality_score}分</div>\r\n                </div>\r\n\r\n                <div className='left' style={{ marginBottom: 8 }}>\r\n                    <img className={styles.avatar} src={item.announcer ? item.announcer.avatar_url : '#'} alt=\"avatar\" />\r\n                    <div>{item.announcer ? item.announcer.nickname : '--'}</div>\r\n                    {item.announcer && item.announcer.is_verified && (\r\n                        <img className={styles.v} src={v} alt=\"vip\" />\r\n                    )}\r\n                </div>\r\n\r\n                <div className={styles.introduce}>{item.album_intro}</div>\r\n\r\n\r\n\r\n                <div className={styles.tags}>\r\n                    <div className={styles.tag} title={`音频数量：${item.include_track_count}`}>\r\n                        <span className={`iconfont icon-customerservice ${styles.iconfont}`}></span>\r\n                        {numFormat(item.include_track_count)}\r\n                    </div>\r\n                    <div className={styles.tag} title={`播放数量：${item.play_count}`}>\r\n                        <span className={`iconfont icon-notification ${styles.iconfont}`}></span>\r\n                        <span>{numFormat(item.play_count)}</span>\r\n                    </div>\r\n                    <div className={styles.tag} title={`喜欢数量：${item.favorite_count}`}>\r\n                        <span className={`iconfont icon-heart ${styles.iconfont}`}></span>\r\n                        <span>{numFormat(item.favorite_count)}</span>\r\n                    </div>\r\n                    <div className={styles.tag} title={`订阅次数：${item.subscribe_count}`}>\r\n                        <span className={`iconfont icon-star ${styles.iconfont}`}></span>\r\n                        <span>{numFormat(item.subscribe_count)}</span>\r\n                    </div>\r\n                    <div className={styles.tag} title={`分享数量：${item.share_count}`}>\r\n                        <span className={`iconfont icon-share ${styles.iconfont}`}></span>\r\n                        <span>{numFormat(item.share_count)}</span>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n\r\n                <div className='between'>\r\n                    <div className={styles.time}>\r\n                        更新时间: {timeFormat(item.updated_at)}\r\n                    </div>\r\n                    <div className='button' onClick={() => { setPage(1); setList([]) }}>\r\n                        获取详情\r\n                </div>\r\n                </div>\r\n\r\n\r\n\r\n                {list.length > 0 && (\r\n                    <ul className={styles.trackList}>\r\n\r\n                        <li className={styles.trackTitle}>\r\n                            声音列表\r\n                        </li>\r\n\r\n                        {list.map(item => (\r\n                            <Track item={item} getAudio={getAudio} />\r\n                        ))}\r\n\r\n                        <li className={styles.loadMore}>\r\n                            <div className=\"button\" onClick={loadMore} style={{ backgroundColor: '#eee', color: '#222', fontSize: 12 }}>加载更多</div>\r\n                        </li>\r\n                    </ul>\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Albums;","import { Component } from \"react\";\r\nimport { config, XMLY as Xmly } from '@xmly-fem/web-jssdk'\r\nimport styles from './index.module.css'\r\nimport Albums from \"./Albums\";\r\nimport audio from \"../../store\";\r\n\r\n\r\nconst url = 'https://api.ximalaya.com'\r\n\r\n\r\nclass XMLY extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            categoryList: [],\r\n            activeCategoryId: 0, // 选择的分类id\r\n            tagList: [],\r\n            activeTagName: null,\r\n            albumsList: [], // 专辑列表\r\n\r\n            page: 1, // 查专辑的分页器\r\n            count: 10,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        config({\r\n            app_key: 'b617866c20482d133d5de66fceb37da3', // 必传，官方提供的 app_key：b617866c20482d133d5de66fceb37da3 仅供测试，有调用次数限制，上线需替换为自己的 app_key。\r\n            sig_url: 'https://api.ximalaya.com/openapi-collector-app/jssdk_sig', // 免登录授权，必须传 sig_url，和 get_access_token 互斥\r\n            debug: true, // 是否在控制台打印日志\r\n        })\r\n        this.xmly = new Xmly()\r\n\r\n        this.getList();\r\n    }\r\n\r\n    getList = () => {\r\n\r\n        this.xmly.get(`${url}/categories/list`).then(res => {\r\n            console.log(res)\r\n            if (res.code === 0 && Array.isArray(res.data)) {\r\n                if (res.data.length > 0) {\r\n                    this.setState({\r\n                        categoryList: res.data,\r\n                        activeCategoryId: res.data[0].id\r\n                    }, () => {\r\n                        this.getDetail();\r\n                    })\r\n                }\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    getDetail = () => {\r\n\r\n        const { activeCategoryId } = this.state;\r\n\r\n        this.xmly.get(`${url}/v2/tags/list`, {\r\n            category_id: activeCategoryId,\r\n            type: 0\r\n        }).then(res => {\r\n            if (res.code === 0 && Array.isArray(res.data)) {\r\n                if (res.data.length > 0) {\r\n                    this.setState({\r\n                        tagList: res.data,\r\n                        activeTagName: res.data[0].tag_name\r\n                    }, () => {\r\n                        this.getAlbums();\r\n                    })\r\n                }\r\n\r\n            }\r\n        })\r\n    }\r\n\r\n    getAlbums = () => {\r\n\r\n        const { activeCategoryId, activeTagName, page, count } = this.state;\r\n\r\n        this.xmly.get(`${url}/v2/albums/list`, {\r\n            category_id: activeCategoryId,\r\n            tag_name: activeTagName,\r\n            calc_dimension: 1, // 1最火、2最新、3最多播放\r\n            page,\r\n            count,\r\n            contains_paid: false // 免费false\r\n        }).then(res => {\r\n            console.log(res)\r\n            if (res.code === 0 && res.data && Array.isArray(res.data.albums)) {\r\n\r\n                const { albums } = res.data;\r\n\r\n                if (albums.length === 0) {\r\n                    alert('没有更多数据了')\r\n                    return;\r\n                }\r\n\r\n                this.setState(prevState => ({\r\n                    albumsList: [...prevState.albumsList, ...albums]\r\n                }))\r\n            }\r\n        })\r\n    }\r\n\r\n    onClickCategory = (id) => {\r\n        this.setState({\r\n            activeCategoryId: id,\r\n            page: 1,\r\n            albumsList: [],\r\n        }, () => {\r\n            this.getDetail();\r\n        })\r\n    }\r\n\r\n    onClickTag = (name) => {\r\n        this.setState({\r\n            activeTagName: name,\r\n            page: 1,\r\n            albumsList: [],\r\n        }, () => {\r\n            this.getAlbums();\r\n        })\r\n    }\r\n\r\n    onLoadMore = () => {\r\n        this.setState(prevState => ({\r\n            page: prevState.page + 1,\r\n        }), () => {\r\n            this.getAlbums();\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { categoryList, activeCategoryId, tagList, activeTagName, albumsList } = this.state;\r\n\r\n        return (\r\n            <div className='container'>\r\n\r\n                <div className={styles.condition}>\r\n\r\n                    <div className={styles.item}>\r\n\r\n                        <div className={styles.title}>分类:</div>\r\n\r\n                        <ul className={styles.list}>\r\n                            {categoryList.map(item => (<li className={`${styles.category} ${activeCategoryId === item.id ? styles.active : ''}`} key={item.id} onClick={() => { this.onClickCategory(item.id) }}>\r\n                                <span>{item.category_name}</span>\r\n                            </li>))}\r\n                        </ul>\r\n\r\n                    </div>\r\n\r\n                    <div className={styles.item}>\r\n\r\n                        <div className={styles.title}>标签:</div>\r\n\r\n\r\n                        <ul className={styles.list}>\r\n                            {tagList.map((item, index) => (<li className={`${styles.category} ${activeTagName === item.tag_name ? styles.active : ''}`} key={index} onClick={() => { this.onClickTag(item.tag_name) }}>\r\n                                <span>{item.tag_name}</span>\r\n                            </li>))}\r\n                        </ul>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <ul className={styles.albumsList}>\r\n                    {albumsList.map(item => (\r\n                        <Albums url={url} xmly={this.xmly} item={item} audio={audio} />\r\n                    ))}\r\n                </ul>\r\n\r\n                {albumsList.length > 0 && (\r\n                    <div className='center'>\r\n                        <div className=\"button\" onClick={this.onLoadMore}>加载更多</div>\r\n                    </div>\r\n                )}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default XMLY","import { Route, Switch, Link, useRouteMatch, useLocation } from \"react-router-dom\";\r\nimport React, { lazy, Suspense, useEffect, useState } from \"react\";\r\n\r\nimport styles from \"./index.module.css\";\r\nimport logo from \"../assets/logo.svg\";\r\n\r\nimport ErrorBoundary from '../components/ErrorBoundary'\r\nimport audio from \"../store\";\r\nimport Player from \"../components/Player\";\r\nimport Footer from '../components/Footer'\r\n\r\nimport Website from '../pages/Website'\r\nimport XMLY from '../pages/XMLY'\r\n\r\nimport store from '../store'\r\n\r\nconst Home = lazy(() => import('../pages/Home'))\r\nconst Me = lazy(() => import('../pages/Me'))\r\nconst Repo = lazy(() => import('../pages/Repo'))\r\nconst News = lazy(() => import('../pages/News'))\r\nconst Translate = lazy(() => import('../pages/Translate'))\r\nconst Todo = lazy(() => import('../pages/Todo'))\r\nconst Blog = lazy(() => import('../pages/Blog'))\r\nconst Weather = lazy(() => import('../pages/Weather'))\r\nconst Tool = lazy(() => import('../pages/Tool'))\r\nconst Echarts = lazy(() => import('../pages/Echarts'))\r\nconst Resume = lazy(() => import('../pages/Resume'))\r\nconst RSS = lazy(() => import('../pages/RSS'))\r\nconst Stock = lazy(() => import('../pages/Stock'))\r\nconst NotFound = lazy(() => import('../pages/NotFound'))\r\n\r\nfunction Layout() {\r\n\r\n\r\n    const { path, } = useRouteMatch();\r\n\r\n    const { pathname, } = useLocation();\r\n\r\n    useEffect(() => {\r\n\r\n        if (window.location && window.location.search) {\r\n            const { search } = window.location;\r\n            if (search) {\r\n                const arr = search.split('?code=')\r\n\r\n                console.log('code', arr)\r\n\r\n                if (arr.length > 0) {\r\n\r\n\r\n                    // access_token: '4572c1ff3f13bc997a39deaeba2f99de',\r\n                    // token_type: 'bearer',\r\n\r\n                    // store.app.callFunction({\r\n                    //     name: 'githubLogin',\r\n                    //     data: {\r\n                    //         code,\r\n                    //     }\r\n                    // }).then(res => {\r\n                    //     console.log('res', res)\r\n                    // }).catch(err => console.error)\r\n                }\r\n            }\r\n        }\r\n    }, []);\r\n\r\n\r\n\r\n    const [visible, setVisible] = useState(false)\r\n\r\n    // function handleLogin() {\r\n    //     setVisible(true)\r\n    // }\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [status, setStatus] = useState('login')\r\n\r\n    function toggle() {\r\n        if (status === 'login') {\r\n            setStatus('register')\r\n        } else {\r\n            setStatus('login')\r\n        }\r\n    }\r\n\r\n    function login() {\r\n\r\n        if (!email) {\r\n            alert('请输入邮箱')\r\n            return;\r\n        }\r\n        if (!password) {\r\n            alert('请输入密码')\r\n            return;\r\n        }\r\n\r\n        if (status === 'login') {\r\n            store.app\r\n                .auth()\r\n                .signInWithEmailAndPassword(email, password)\r\n                .then((loginState) => {\r\n                    console.log('login state', loginState.user)\r\n\r\n                    // store.setUser();\r\n                    // 登录成功\r\n                }).catch(err => {\r\n                    console.error(err)\r\n                })\r\n        } else {\r\n            store.app\r\n                .auth()\r\n                .signUpWithEmailAndPassword(email, password)\r\n                .then(() => {\r\n                    alert('验证邮件成功，请去验证')\r\n                }).catch(err => {\r\n                    console.log('err', err)\r\n                })\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={styles.layout}>\r\n\r\n\r\n            <header>\r\n\r\n                <div className='container left'>\r\n\r\n                    <Link className={`left`} to={path}>\r\n                        <img className={styles.logo} src={logo} alt=\"logo\" />\r\n                        <h1 className={styles.appName}>李奇的网站</h1>\r\n                    </Link>\r\n\r\n                    <ul className={styles.tabBar}>\r\n                        <li>\r\n                            <Link className={`${styles.nav} ${pathname === path ? styles.active : ''}`} to={path}>\r\n                                首页</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('stock') ? styles.active : ''}`} to={path + 'stock'}>股票</Link>\r\n                        </li>\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav} ${pathname.includes('blog') ? styles.active : ''} `} to={path + 'blog'}>博客</Link>\r\n                        </li> */}\r\n\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('translate') ? styles.active : ''}`} to={path + 'translate'}>翻译</Link>\r\n                        </li> */}\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('news') ? styles.active : ''}`} to={path + 'news'}>资讯</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('xmly') ? styles.active : ''}`} to={path + 'xmly'}>听听</Link>\r\n                        </li>\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('rss') ? styles.active : ''}`} to={path + 'rss'}>RSS</Link>\r\n                        </li> */}\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('repo') ? styles.active : ''}`} to={path + 'repo'}>仓库</Link>\r\n                        </li>\r\n\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('website') ? styles.active : ''}`} to={path + 'website'}>常用网站</Link>\r\n                        </li> */}\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('todo') ? styles.active : ''}`} to={path + 'todo'}>待办事项</Link>\r\n                        </li>\r\n\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('weather') ? styles.active : ''}`} to={path + 'weather'}>天气</Link>\r\n                        </li>\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('tool') ? styles.active : ''}`} to={path + 'tool'}>工具</Link>\r\n                        </li> */}\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('echarts') ? styles.active : ''}`} to={path + 'echarts'}>图表编辑</Link>\r\n                        </li> */}\r\n                        {/* <li>\r\n                            <Link className={`${styles.nav}  ${pathname.includes('resume') ? styles.active : ''}`} to={path + 'resume'}>简历</Link>\r\n                        </li> */}\r\n                        <li>\r\n                            <Link className={`${styles.nav}  ${pathname === '/me' ? styles.active : ''}`} to={path + 'me'}>关于我</Link>\r\n                        </li>\r\n                    </ul>\r\n\r\n\r\n                    {/* <a href={`https://gitee.com/oauth/authorize?client_id=6deabf8a317925c972edc28ebf7867294a1501b90ce8096e1b076e17b3b230d0&redirect_uri=http://localhost:3000&response_type=code`}>\r\n                        <div className='button'>登录</div>\r\n                    </a> */}\r\n                </div>\r\n\r\n\r\n            </header>\r\n\r\n            <main>\r\n\r\n                <ErrorBoundary>\r\n\r\n\r\n                    <Suspense fallback={<div>Loading...</div>}>\r\n\r\n                        <Switch>\r\n                            <Route path={path} exact>\r\n                                <Home />\r\n                            </Route>\r\n\r\n                            <Route path={path + 'stock'}>\r\n                                <Stock />\r\n                            </Route>\r\n                            <Route path={path + 'blog'}>\r\n                                <Blog />\r\n                            </Route>\r\n\r\n                            <Route path={path + 'translate'}>\r\n                                <Translate />\r\n                            </Route>\r\n                            <Route path={path + 'repo'}>\r\n                                <Repo />\r\n                            </Route>\r\n                            <Route path={path + 'news'}>\r\n                                <News />\r\n                            </Route>\r\n                            <Route path={path + 'xmly'}>\r\n                                <XMLY />\r\n                            </Route>\r\n                            <Route path={path + 'website'}>\r\n                                <Website />\r\n                            </Route>\r\n                            <Route path={path + 'todo'}>\r\n                                <Todo />\r\n                            </Route>\r\n                            <Route path={path + 'rss'}>\r\n                                <RSS />\r\n                            </Route>\r\n                            <Route path={path + 'weather'}>\r\n                                <Weather />\r\n                            </Route>\r\n                            <Route path={path + 'tool'}>\r\n                                <Tool />\r\n                            </Route>\r\n                            <Route path={path + 'echarts'}>\r\n                                <Echarts />\r\n                            </Route>\r\n                            <Route path={path + 'resume'}>\r\n                                <Resume />\r\n                            </Route>\r\n                            <Route path={path + 'me'}>\r\n                                <Me />\r\n                            </Route>\r\n                            <Route path='*'>\r\n                                <NotFound />\r\n                            </Route>\r\n                        </Switch>\r\n\r\n                    </Suspense>\r\n\r\n                </ErrorBoundary>\r\n\r\n\r\n\r\n                <Player audio={audio} />\r\n\r\n\r\n                {visible && (\r\n                    <div className={styles.alert}>\r\n\r\n                        <div className={styles.alertContent}>\r\n\r\n                            <div className={styles.alertTitle}>\r\n                                <div>{status === 'login' ? '登录' : \"注册\"}</div>\r\n                                <span className='iconfont icon-close' onClick={() => { setVisible(false) }} style={{ cursor: 'pointer' }}></span>\r\n                            </div>\r\n\r\n                            <div className={styles.alertBody}>\r\n\r\n                                <input className={styles.input} type=\"text\" placeholder='请输入邮箱' value={email} onChange={(e) => { setEmail(e.target.value) }} />\r\n\r\n                                <input className={styles.input} type=\"password\" placeholder='请输入密码' value={password} onChange={e => { setPassword(e.target.value) }} />\r\n\r\n                                <div className={styles.button} onClick={login}>{status === 'login' ? '登录' : \"注册\"}</div>\r\n\r\n\r\n                                <div>\r\n                                    <span className={styles.toggle} onClick={toggle}>去\r\n                                {status === 'login' ? '注册' : \"登录\"}\r\n\r\n                                    </span>\r\n\r\n                                </div>\r\n\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n\r\n\r\n\r\n            </main>\r\n\r\n            <Footer />\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Layout;","\r\nimport { HashRouter, Switch, Route } from 'react-router-dom'\r\nimport Layout from './layout'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <HashRouter>\r\n        <Switch>\r\n          <Route path='/'>\r\n            <Layout />\r\n          </Route>\r\n        </Switch>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}