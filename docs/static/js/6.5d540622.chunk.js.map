{"version":3,"sources":["pages/Blog/Comments/index.module.css","pages/Blog/index.module.css","pages/Blog/Comments/index.jsx","pages/Blog/index.jsx"],"names":["module","exports","Comments","props","renderHtml","str","__html","md","render","state","Remarkable","list","this","map","item","className","styles","avatar","src","user","avatar_url","alt","name","login","dangerouslySetInnerHTML","body","React","Component","Blog","useState","setList","useEffect","fetch","then","res","json","console","log","Array","isArray","category","setCategory","activeItem","setActiveItem","comments","setComments","comments_url","active","href","url","target","rel","title","time","updated_at","extra","icon","onClick","seeComments","id"],"mappings":"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","file":"static/js/6.5d540622.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Comments_item__3-hSH\",\"avatar\":\"Comments_avatar__3ISZ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"Blog_category__3y-wm\",\"active\":\"Blog_active__3OZpZ\",\"header\":\"Blog_header__3hBny\",\"item\":\"Blog_item__2wv2M\",\"title\":\"Blog_title__JoWGr\",\"body\":\"Blog_body__11nK5\",\"user\":\"Blog_user__3Jl2g\",\"avatar\":\"Blog_avatar__1ruXF\",\"name\":\"Blog_name__8vBqV\",\"time\":\"Blog_time__1H18F\",\"extra\":\"Blog_extra__26Wus\",\"comments\":\"Blog_comments__Xiq9e\",\"icon\":\"Blog_icon__Sz-a8\"};","\nimport React from 'react'\nimport styles from './index.module.css'\nimport { Remarkable } from \"remarkable\";\n\nclass Comments extends React.Component {\n\n    constructor(props) {\n        super(props)\n\n        this.state = {\n        }\n\n        this.md = new Remarkable();\n\n    }\n\n    renderHtml = (str) => {\n        return {\n            __html: this.md.render(str)\n        }\n    }\n\n\n\n    render() {\n\n        const { list } = this.props;\n\n        return <div>\n\n            <ul>\n                {list.map(item => <li className={styles.item}>\n                    <img className={styles.avatar} src={item.user ? item.user.avatar_url : '#'} alt=\"avatar\" />\n\n                    <div>\n                        <div className={styles.name}>{item.user ? item.user.login : '--'}</div>\n\n                        <div dangerouslySetInnerHTML={this.renderHtml(item.body)} />\n                    </div>\n                </li>)}\n            </ul>\n\n\n\n        </div>\n    }\n}\n\nexport default Comments;","import { useEffect, useState } from \"react\";\nimport Comments from \"./Comments\";\nimport styles from './index.module.css'\n\n\nfunction Blog() {\n\n    const [list, setList] = useState([])\n\n    useEffect(() => {\n        const url = 'https://gitee.com/api/v5/repos/ritchieli/liqi/issues?access_token=4572c1ff3f13bc997a39deaeba2f99de&state=open&sort=created&direction=desc&page=1&per_page=20'\n        fetch(url).then(res => res.json()).then(res => {\n            console.log('res ', res)\n            if (Array.isArray(res)) {\n                setList(res)\n            }\n        })\n    }, [])\n\n    const [category, setCategory] = useState([])\n\n    useEffect(() => {\n\n        const url = 'https://gitee.com/api/v5/repos/ritchieli/liqi/labels'\n\n        fetch(url).then(res => res.json()).then(res => {\n            if (Array.isArray(res)) {\n                setCategory(res)\n            }\n        })\n\n    }, [])\n\n    const [activeItem, setActiveItem] = useState({})\n\n    function seeComments(item) {\n        setActiveItem(item)\n    }\n\n    const [comments, setComments] = useState([])\n\n    useEffect(() => {\n        if (activeItem.comments_url) {\n            fetch(activeItem.comments_url).then(res => res.json()).then(res => {\n                console.log('res', res)\n                setComments(res)\n            })\n        }\n    }, [activeItem])\n\n    return <div className='container'>\n\n\n        <div className={styles.category}>\n            {category.map(item => <div className={styles.active}>\n                {item.name}\n            </div>)}\n        </div>\n\n\n        <ul>\n\n            {list.map(item => <li className={styles.item} key={item.id}>\n\n\n                <a href={item.url} target=\"_blank\" rel='noreferrer'>\n                    <div className={styles.title}>{item.title}</div>\n                </a>\n\n\n\n                <div className={styles.body}>{item.body}</div>\n\n\n                <div className={styles.user}>\n                    <img className={styles.avatar} src={item.user ? item.user.avatar_url : '#'} alt=\"avatar\" />\n                    <div className={styles.name}>{item.user ? item.user.login : '--'}</div>\n                    <div className={styles.time}>更新于 {item.updated_at}</div>\n\n                    <div className={styles.extra}>\n                        <div className={styles.comments}>\n                            <span className={`iconfont icon-read ${styles.icon}`}></span>\n                            <span>{item.comments}</span>\n                        </div>\n                        <div className='button' onClick={() => { seeComments(item) }}>\n                            查看评论\n                        <span className={`iconfont icon-down`}></span>\n                            {/* <span className={`iconfont icon-up`}></span> */}\n\n                        </div>\n                    </div>\n                </div>\n\n                <Comments list={comments} />\n\n\n            </li>)}\n        </ul>\n    </div>\n}\n\nexport default Blog;"],"sourceRoot":""}