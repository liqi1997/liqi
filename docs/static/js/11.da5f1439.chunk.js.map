{"version":3,"sources":["pages/Repo/index.jsx","pages/Repo/index.module.css"],"names":["Repo","useState","page","setPage","perPage","question","setQuestion","status","setStatus","list","setList","total","setTotal","useEffect","fetch","then","res","json","console","log","total_count","items","Array","isArray","catch","err","className","styles","container","header","button","style","marginRight","onClick","inputPanel","input","type","placeholder","value","onChange","e","target","iconfont","map","item","title","href","html_url","rel","name","full_name","language","extra","stargazers_count","watchers_count","forks_count","description","homepage","footer","time","updated_at","downloads_url","download","id","module","exports"],"mappings":"uKA8HeA,UA3Hf,WAAiB,IAAD,EAEYC,mBAAS,GAFrB,mBAELC,EAFK,KAECC,EAFD,OAGOF,mBAAS,IAArBG,EAHK,sBAIoBH,mBAAS,cAJ7B,mBAILI,EAJK,KAIKC,EAJL,OAKgBL,oBAAS,GALzB,mBAKLM,EALK,KAKGC,EALH,OAMYP,mBAAS,IANrB,mBAMLQ,EANK,KAMCC,EAND,OAOcT,mBAAS,GAPvB,mBAOLU,EAPK,KAOEC,EAPF,KA0CZ,OAjCAC,qBAAU,WAEDN,GAELO,MAAM,mDAAD,OAAoDZ,EAApD,qBAAqEE,EAArE,yBAA6FC,IAAYU,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GACvIR,GAAU,GACVU,QAAQC,IAAI,OAAQH,EAAII,YAAaJ,EAAIK,OACzCT,EAASI,EAAII,aACTE,MAAMC,QAAQP,EAAIK,QAClBX,EAAQM,EAAIK,UAEjBG,OAAM,SAAAC,GACLjB,GAAU,QAGf,CAACN,EAAME,EAASC,EAAUE,IAkBtB,sBAAKmB,UAAS,oBAAeC,IAAOC,WAApC,UAGH,sBAAKF,UAAWC,IAAOE,OAAvB,UACI,gEAAUlB,EAAV,kBAEA,qBAAKe,UAAWC,IAAOG,OAAQC,MAAO,CAAEC,YAAa,GAAKC,QAlBlE,WACiB,IAAT/B,IAGJM,GAAU,GACVL,EAAQD,EAAO,KAaX,gCACA,qBAAKwB,UAAWC,IAAOG,OAAQG,QAZvC,WACIzB,GAAU,GACVL,EAAQD,EAAO,IAUX,gCAGA,sBAAKwB,UAAWC,IAAOO,WAAvB,UACI,uBAAOR,UAAWC,IAAOQ,MAAOC,KAAK,OAAOC,YAAY,uCAASC,MAAOjC,EAAUkC,SAAU,SAAAC,GAAC,OAAIlC,EAAYkC,EAAEC,OAAOH,UACtH,qBAAKZ,UAAWC,IAAOG,OAAQG,QA5B3C,WACIzB,GAAU,IA2BF,SACI,sBAAMkB,UAAS,+BAA0BC,IAAOe,oBAM5D,6BACKjC,EAAKkC,KAAI,SAAAC,GAAI,OAAK,qBAAIlB,UAAWC,IAAOiB,KAAtB,UAEf,sBAAKlB,UAAWC,IAAOkB,MAAvB,UAEI,mBAAGC,KAAMF,EAAKG,SAAUN,OAAO,SAASO,IAAI,aAA5C,SACI,sBAAMtB,UAAWC,IAAOsB,KAAxB,SACKL,EAAKM,cAGd,qBAAKxB,UAAWC,IAAOwB,SAAvB,SACKP,EAAKO,WAGV,sBAAKzB,UAAWC,IAAOyB,MAAvB,UACI,sBAAKP,MAAK,eAAUD,EAAKS,kBAAzB,UACI,sBAAM3B,UAAU,uBACfkB,EAAKS,oBAEV,sBAAKR,MAAK,kBAAaD,EAAKU,gBAA5B,UACI,sBAAM5B,UAAU,uBACfkB,EAAKU,kBAGV,sBAAK5B,UAAS,eAAUkB,EAAKW,aAA7B,UACI,sBAAM7B,UAAU,uBACfkB,EAAKW,qBASlB,qBAAK7B,UAAWC,IAAO6B,YAAvB,SACKZ,EAAKY,cAIV,8BACI,mBAAGV,KAAMF,EAAKa,SAAUhB,OAAO,SAASO,IAAI,aAA5C,SAA0DJ,EAAKa,aAGnE,sBAAK/B,UAAWC,IAAO+B,OAAvB,UACI,sBAAKhC,UAAWC,IAAOgC,KAAvB,uCACWf,EAAKgB,cAEhB,mBAAGd,KAAMF,EAAKiB,cAAeC,UAAQ,EAArC,SACI,qBAAKpC,UAAU,SAAf,iCAhDwCkB,EAAKmB,c,mBChErEC,EAAOC,QAAU,CAAC,OAAS,qBAAqB,WAAa,yBAAyB,MAAQ,oBAAoB,OAAS,qBAAqB,SAAW,uBAAuB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,SAAW,uBAAuB,MAAQ,oBAAoB,YAAc,0BAA0B,OAAS,qBAAqB,KAAO","file":"static/js/11.da5f1439.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\"\nimport styles from \"./index.module.css\";\n\nfunction Repo() {\n\n    const [page, setPage] = useState(1);\n    const [perPage,] = useState(10);\n    const [question, setQuestion] = useState('JavaScript')\n    const [status, setStatus] = useState(true)\n    const [list, setList] = useState([])\n    const [total, setTotal] = useState(0)\n\n    useEffect(() => {\n\n        if (!status) { return; }\n\n        fetch(`https://api.github.com/search/repositories?page=${page}&per_page=${perPage}&sort=stars&q=${question}`).then(res => res.json()).then(res => {\n            setStatus(false)\n            console.log('res ', res.total_count, res.items);\n            setTotal(res.total_count)\n            if (Array.isArray(res.items)) {\n                setList(res.items)\n            }\n        }).catch(err => {\n            setStatus(false)\n        })\n\n    }, [page, perPage, question, status])\n\n    function search() {\n        setStatus(true)\n    }\n\n    function prev() {\n        if (page === 1) {\n            return;\n        }\n        setStatus(true)\n        setPage(page - 1)\n    }\n    function next() {\n        setStatus(true)\n        setPage(page + 1)\n    }\n\n    return <div className={`container ${styles.container}`}>\n\n\n        <div className={styles.header}>\n            <h3>热门仓库（{total}条）</h3>\n\n            <div className={styles.button} style={{ marginRight: 8 }} onClick={prev}>上一页</div>\n            <div className={styles.button} onClick={next}>下一页</div>\n\n\n            <div className={styles.inputPanel}>\n                <input className={styles.input} type=\"text\" placeholder='请输入关键词' value={question} onChange={e => setQuestion(e.target.value)} />\n                <div className={styles.button} onClick={search}>\n                    <span className={`iconfont icon-search ${styles.iconfont}`}></span>\n                </div>\n            </div>\n        </div>\n\n\n        <ul>\n            {list.map(item => (<li className={styles.item} key={item.id}>\n\n                <div className={styles.title}>\n\n                    <a href={item.html_url} target=\"_blank\" rel='noreferrer'>\n                        <span className={styles.name}>\n                            {item.full_name}\n                        </span>\n                    </a>\n                    <div className={styles.language}>\n                        {item.language}\n                    </div>\n\n                    <div className={styles.extra}>\n                        <div title={`star ${item.stargazers_count}`}>\n                            <span className='iconfont icon-star'></span>\n                            {item.stargazers_count}\n                        </div>\n                        <div title={`watcher ${item.watchers_count}`}>\n                            <span className='iconfont icon-read'></span>\n                            {item.watchers_count}\n                        </div>\n\n                        <div className={`fork ${item.forks_count}`}>\n                            <span className='iconfont icon-book'></span>\n                            {item.forks_count}\n                        </div>\n                    </div>\n                </div>\n\n\n\n\n\n                <div className={styles.description}>\n                    {item.description}\n                </div>\n\n\n                <div>\n                    <a href={item.homepage} target=\"_blank\" rel='noreferrer'>{item.homepage}</a>\n                </div>\n\n                <div className={styles.footer}>\n                    <div className={styles.time}>\n                        更新时间: {item.updated_at}\n                    </div>\n                    <a href={item.downloads_url} download>\n                        <div className=\"button\">下载</div>\n                    </a>\n                </div>\n\n\n\n\n\n            </li>))}\n        </ul>\n    </div>\n}\n\nexport default Repo","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Repo_header__85_TV\",\"inputPanel\":\"Repo_inputPanel__3ePR8\",\"input\":\"Repo_input__3OJjh\",\"button\":\"Repo_button__1QOEC\",\"iconfont\":\"Repo_iconfont__2PLG4\",\"item\":\"Repo_item__3ni43\",\"title\":\"Repo_title__Es4R0\",\"name\":\"Repo_name__jM63A\",\"language\":\"Repo_language__Ilh-r\",\"extra\":\"Repo_extra__1ll7Q\",\"description\":\"Repo_description__H6FMP\",\"footer\":\"Repo_footer__3YX5x\",\"time\":\"Repo_time__7NzPz\"};"],"sourceRoot":""}