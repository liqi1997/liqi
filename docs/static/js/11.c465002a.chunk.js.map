{"version":3,"sources":["pages/Repo/index.jsx","pages/Repo/index.module.css"],"names":["Repo","useState","page","setPage","perPage","question","setQuestion","status","setStatus","list","setList","total","setTotal","useEffect","fetch","then","res","json","console","log","total_count","items","Array","isArray","catch","err","className","styles","container","header","button","style","marginRight","onClick","inputPanel","input","type","placeholder","value","onChange","e","target","iconfont","map","item","title","href","html_url","rel","name","full_name","language","extra","stargazers_count","watchers_count","forks_count","description","homepage","footer","time","updated_at","downloads_url","download","id","module","exports"],"mappings":"uKA8HeA,UA3Hf,WAAiB,IAAD,EAEYC,mBAAS,GAFrB,mBAELC,EAFK,KAECC,EAFD,OAGOF,mBAAS,IAArBG,EAHK,sBAIoBH,mBAAS,cAJ7B,mBAILI,EAJK,KAIKC,EAJL,OAKgBL,oBAAS,GALzB,mBAKLM,EALK,KAKGC,EALH,OAMYP,mBAAS,IANrB,mBAMLQ,EANK,KAMCC,EAND,OAOcT,mBAAS,GAPvB,mBAOLU,EAPK,KAOEC,EAPF,KA0CZ,OAjCAC,qBAAU,WAEDN,GAELO,MAAM,mDAAD,OAAoDZ,EAApD,qBAAqEE,EAArE,yBAA6FC,IAAYU,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GACvIR,GAAU,GACVU,QAAQC,IAAI,OAAQH,EAAII,YAAaJ,EAAIK,OACzCT,EAASI,EAAII,aACTE,MAAMC,QAAQP,EAAIK,QAClBX,EAAQM,EAAIK,UAEjBG,OAAM,SAAAC,GACLjB,GAAU,QAGf,CAACN,EAAME,EAASC,EAAUE,IAkBtB,sBAAKmB,UAAS,oBAAeC,IAAOC,WAApC,UAGH,sBAAKF,UAAWC,IAAOE,OAAvB,UACI,gEAAUlB,EAAV,kBAEA,qBAAKe,UAAWC,IAAOG,OAAQC,MAAO,CAAEC,YAAa,GAAKC,QAlBlE,WACiB,IAAT/B,IAGJM,GAAU,GACVL,EAAQD,EAAO,KAaX,gCACA,qBAAKwB,UAAWC,IAAOG,OAAQG,QAZvC,WACIzB,GAAU,GACVL,EAAQD,EAAO,IAUX,gCAGA,sBAAKwB,UAAWC,IAAOO,WAAvB,UACI,uBAAOR,UAAWC,IAAOQ,MAAOC,KAAK,OAAOC,YAAY,uCAASC,MAAOjC,EAAUkC,SAAU,SAAAC,GAAC,OAAIlC,EAAYkC,EAAEC,OAAOH,UACtH,qBAAKZ,UAAWC,IAAOG,OAAQG,QA5B3C,WACIzB,GAAU,IA2BF,SACI,sBAAMkB,UAAS,+BAA0BC,IAAOe,oBAM5D,6BACKjC,EAAKkC,KAAI,SAAAC,GAAI,OAAK,qBAAIlB,UAAWC,IAAOiB,KAAtB,UAEf,sBAAKlB,UAAWC,IAAOkB,MAAvB,UAEI,mBAAGC,KAAMF,EAAKG,SAAUN,OAAO,SAASO,IAAI,aAA5C,SACI,sBAAMtB,UAAWC,IAAOsB,KAAxB,SACKL,EAAKM,cAGd,qBAAKxB,UAAWC,IAAOwB,SAAvB,SACKP,EAAKO,WAGV,sBAAKzB,UAAWC,IAAOyB,MAAvB,UACI,sBAAKP,MAAK,eAAUD,EAAKS,kBAAzB,UACI,sBAAM3B,UAAU,uBACfkB,EAAKS,oBAEV,sBAAKR,MAAK,kBAAaD,EAAKU,gBAA5B,UACI,sBAAM5B,UAAU,uBACfkB,EAAKU,kBAGV,sBAAK5B,UAAS,eAAUkB,EAAKW,aAA7B,UACI,sBAAM7B,UAAU,uBACfkB,EAAKW,qBASlB,qBAAK7B,UAAWC,IAAO6B,YAAvB,SACKZ,EAAKY,cAIV,8BACI,mBAAGV,KAAMF,EAAKa,SAAUhB,OAAO,SAASO,IAAI,aAA5C,SAA0DJ,EAAKa,aAGnE,sBAAK/B,UAAWC,IAAO+B,OAAvB,UACI,sBAAKhC,UAAWC,IAAOgC,KAAvB,uCACWf,EAAKgB,cAEhB,mBAAGd,KAAMF,EAAKiB,cAAeC,UAAQ,EAArC,SACI,qBAAKpC,UAAU,SAAf,iCAhDwCkB,EAAKmB,c,mBChErEC,EAAOC,QAAU,CAAC,OAAS,qBAAqB,WAAa,yBAAyB,MAAQ,oBAAoB,OAAS,qBAAqB,SAAW,uBAAuB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,SAAW,uBAAuB,MAAQ,oBAAoB,YAAc,0BAA0B,OAAS,qBAAqB,KAAO","file":"static/js/11.c465002a.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport styles from \"./index.module.css\";\r\n\r\nfunction Repo() {\r\n\r\n    const [page, setPage] = useState(1);\r\n    const [perPage,] = useState(10);\r\n    const [question, setQuestion] = useState('JavaScript')\r\n    const [status, setStatus] = useState(true)\r\n    const [list, setList] = useState([])\r\n    const [total, setTotal] = useState(0)\r\n\r\n    useEffect(() => {\r\n\r\n        if (!status) { return; }\r\n\r\n        fetch(`https://api.github.com/search/repositories?page=${page}&per_page=${perPage}&sort=stars&q=${question}`).then(res => res.json()).then(res => {\r\n            setStatus(false)\r\n            console.log('res ', res.total_count, res.items);\r\n            setTotal(res.total_count)\r\n            if (Array.isArray(res.items)) {\r\n                setList(res.items)\r\n            }\r\n        }).catch(err => {\r\n            setStatus(false)\r\n        })\r\n\r\n    }, [page, perPage, question, status])\r\n\r\n    function search() {\r\n        setStatus(true)\r\n    }\r\n\r\n    function prev() {\r\n        if (page === 1) {\r\n            return;\r\n        }\r\n        setStatus(true)\r\n        setPage(page - 1)\r\n    }\r\n    function next() {\r\n        setStatus(true)\r\n        setPage(page + 1)\r\n    }\r\n\r\n    return <div className={`container ${styles.container}`}>\r\n\r\n\r\n        <div className={styles.header}>\r\n            <h3>热门仓库（{total}条）</h3>\r\n\r\n            <div className={styles.button} style={{ marginRight: 8 }} onClick={prev}>上一页</div>\r\n            <div className={styles.button} onClick={next}>下一页</div>\r\n\r\n\r\n            <div className={styles.inputPanel}>\r\n                <input className={styles.input} type=\"text\" placeholder='请输入关键词' value={question} onChange={e => setQuestion(e.target.value)} />\r\n                <div className={styles.button} onClick={search}>\r\n                    <span className={`iconfont icon-search ${styles.iconfont}`}></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <ul>\r\n            {list.map(item => (<li className={styles.item} key={item.id}>\r\n\r\n                <div className={styles.title}>\r\n\r\n                    <a href={item.html_url} target=\"_blank\" rel='noreferrer'>\r\n                        <span className={styles.name}>\r\n                            {item.full_name}\r\n                        </span>\r\n                    </a>\r\n                    <div className={styles.language}>\r\n                        {item.language}\r\n                    </div>\r\n\r\n                    <div className={styles.extra}>\r\n                        <div title={`star ${item.stargazers_count}`}>\r\n                            <span className='iconfont icon-star'></span>\r\n                            {item.stargazers_count}\r\n                        </div>\r\n                        <div title={`watcher ${item.watchers_count}`}>\r\n                            <span className='iconfont icon-read'></span>\r\n                            {item.watchers_count}\r\n                        </div>\r\n\r\n                        <div className={`fork ${item.forks_count}`}>\r\n                            <span className='iconfont icon-book'></span>\r\n                            {item.forks_count}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                <div className={styles.description}>\r\n                    {item.description}\r\n                </div>\r\n\r\n\r\n                <div>\r\n                    <a href={item.homepage} target=\"_blank\" rel='noreferrer'>{item.homepage}</a>\r\n                </div>\r\n\r\n                <div className={styles.footer}>\r\n                    <div className={styles.time}>\r\n                        更新时间: {item.updated_at}\r\n                    </div>\r\n                    <a href={item.downloads_url} download>\r\n                        <div className=\"button\">下载</div>\r\n                    </a>\r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n            </li>))}\r\n        </ul>\r\n    </div>\r\n}\r\n\r\nexport default Repo","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Repo_header__X2uZ2\",\"inputPanel\":\"Repo_inputPanel__27Ntn\",\"input\":\"Repo_input__21l-m\",\"button\":\"Repo_button__3Qoo3\",\"iconfont\":\"Repo_iconfont__3hzJe\",\"item\":\"Repo_item__2W2lX\",\"title\":\"Repo_title__3_KzA\",\"name\":\"Repo_name__EheuD\",\"language\":\"Repo_language__pNSFy\",\"extra\":\"Repo_extra__3U7Qi\",\"description\":\"Repo_description__2yEvs\",\"footer\":\"Repo_footer__326qV\",\"time\":\"Repo_time__2y_7Y\"};"],"sourceRoot":""}