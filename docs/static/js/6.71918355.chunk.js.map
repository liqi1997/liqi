{"version":3,"sources":["pages/Blog/Comments/index.module.css","pages/Blog/index.module.css","pages/Blog/Comments/index.jsx","pages/Blog/index.jsx"],"names":["module","exports","Comments","props","renderHtml","str","__html","md","render","state","Remarkable","list","this","map","item","className","styles","avatar","src","user","avatar_url","alt","name","login","dangerouslySetInnerHTML","body","React","Component","Blog","useState","setList","useEffect","fetch","then","res","json","console","log","Array","isArray","category","setCategory","activeItem","setActiveItem","comments","setComments","comments_url","active","href","url","target","rel","title","time","updated_at","extra","icon","onClick","seeComments","id"],"mappings":"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","file":"static/js/6.71918355.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Comments_item__3lfxY\",\"avatar\":\"Comments_avatar__2kpe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"category\":\"Blog_category__3ZhH_\",\"active\":\"Blog_active__2d77n\",\"header\":\"Blog_header__3QlSv\",\"item\":\"Blog_item__3qqrK\",\"title\":\"Blog_title__1Y9-9\",\"body\":\"Blog_body__1l07e\",\"user\":\"Blog_user__1Dccd\",\"avatar\":\"Blog_avatar__1xt0w\",\"name\":\"Blog_name__yiIwO\",\"time\":\"Blog_time__VM5XK\",\"extra\":\"Blog_extra__3okgt\",\"comments\":\"Blog_comments__12J3m\",\"icon\":\"Blog_icon__20X6P\"};","\r\nimport React from 'react'\r\nimport styles from './index.module.css'\r\nimport { Remarkable } from \"remarkable\";\r\n\r\nclass Comments extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n        }\r\n\r\n        this.md = new Remarkable();\r\n\r\n    }\r\n\r\n    renderHtml = (str) => {\r\n        return {\r\n            __html: this.md.render(str)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        const { list } = this.props;\r\n\r\n        return <div>\r\n\r\n            <ul>\r\n                {list.map(item => <li className={styles.item}>\r\n                    <img className={styles.avatar} src={item.user ? item.user.avatar_url : '#'} alt=\"avatar\" />\r\n\r\n                    <div>\r\n                        <div className={styles.name}>{item.user ? item.user.login : '--'}</div>\r\n\r\n                        <div dangerouslySetInnerHTML={this.renderHtml(item.body)} />\r\n                    </div>\r\n                </li>)}\r\n            </ul>\r\n\r\n\r\n\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default Comments;","import { useEffect, useState } from \"react\";\r\nimport Comments from \"./Comments\";\r\nimport styles from './index.module.css'\r\n\r\n\r\nfunction Blog() {\r\n\r\n    const [list, setList] = useState([])\r\n\r\n    useEffect(() => {\r\n        const url = 'https://gitee.com/api/v5/repos/ritchieli/liqi/issues?access_token=4572c1ff3f13bc997a39deaeba2f99de&state=open&sort=created&direction=desc&page=1&per_page=20'\r\n        fetch(url).then(res => res.json()).then(res => {\r\n            console.log('res ', res)\r\n            if (Array.isArray(res)) {\r\n                setList(res)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const [category, setCategory] = useState([])\r\n\r\n    useEffect(() => {\r\n\r\n        const url = 'https://gitee.com/api/v5/repos/ritchieli/liqi/labels'\r\n\r\n        fetch(url).then(res => res.json()).then(res => {\r\n            if (Array.isArray(res)) {\r\n                setCategory(res)\r\n            }\r\n        })\r\n\r\n    }, [])\r\n\r\n    const [activeItem, setActiveItem] = useState({})\r\n\r\n    function seeComments(item) {\r\n        setActiveItem(item)\r\n    }\r\n\r\n    const [comments, setComments] = useState([])\r\n\r\n    useEffect(() => {\r\n        if (activeItem.comments_url) {\r\n            fetch(activeItem.comments_url).then(res => res.json()).then(res => {\r\n                console.log('res', res)\r\n                setComments(res)\r\n            })\r\n        }\r\n    }, [activeItem])\r\n\r\n    return <div className='container'>\r\n\r\n\r\n        <div className={styles.category}>\r\n            {category.map(item => <div className={styles.active}>\r\n                {item.name}\r\n            </div>)}\r\n        </div>\r\n\r\n\r\n        <ul>\r\n\r\n            {list.map(item => <li className={styles.item} key={item.id}>\r\n\r\n\r\n                <a href={item.url} target=\"_blank\" rel='noreferrer'>\r\n                    <div className={styles.title}>{item.title}</div>\r\n                </a>\r\n\r\n\r\n\r\n                <div className={styles.body}>{item.body}</div>\r\n\r\n\r\n                <div className={styles.user}>\r\n                    <img className={styles.avatar} src={item.user ? item.user.avatar_url : '#'} alt=\"avatar\" />\r\n                    <div className={styles.name}>{item.user ? item.user.login : '--'}</div>\r\n                    <div className={styles.time}>更新于 {item.updated_at}</div>\r\n\r\n                    <div className={styles.extra}>\r\n                        <div className={styles.comments}>\r\n                            <span className={`iconfont icon-read ${styles.icon}`}></span>\r\n                            <span>{item.comments}</span>\r\n                        </div>\r\n                        <div className='button' onClick={() => { seeComments(item) }}>\r\n                            查看评论\r\n                        <span className={`iconfont icon-down`}></span>\r\n                            {/* <span className={`iconfont icon-up`}></span> */}\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Comments list={comments} />\r\n\r\n\r\n            </li>)}\r\n        </ul>\r\n    </div>\r\n}\r\n\r\nexport default Blog;"],"sourceRoot":""}